{
	"type": "object",
	"title": "Top list configuration for a wiki",
	"properties": {
		"use": {
			"type": "string"
		},
		"topLists": {
			"type": "array",
			"items": {
				"oneOf": [
					{
						"$ref": "#/definitions/topList"
					},
					{
						"$ref": "#/definitions/localizedTopList"
					}
				]
			},
			"minItems": 1
		}
	},
	"additionalProperties": false,
	"oneOf": [
		{
			"required": [
				"use"
			]
		},
		{
			"required": [
				"topLists"
			]
		}
	],
	"definitions": {
		"topList": {
			"type": "object",
			"properties": {
				"id": {
					"type": "string"
				},
				"name": {
					"type": "string"
				},
				"itemCount": {
					"type": "integer"
				},
				"isTimeless": {
					"type": "boolean"
				},
				"userRequirements": {
					"$ref": "common.json#/definitions/userRequirement"
				},
				"columns": {
					"$ref": "#/definitions/topListColumnList"
				}
			},
			"required": [
				"id",
				"name",
				"itemCount",
				"columns"
			],
			"additionalProperties": false
		},
		"localizedTopList": {
			"type": "object",
			"properties": {
				"id": {
					"type": "string"
				},
				"i18nKey": {
					"type": "string"
				},
				"itemCount": {
					"type": "integer"
				},
				"isTimeless": {
					"type": "boolean"
				},
				"userRequirements": {
					"$ref": "common.json#/definitions/userRequirement"
				},
				"columns": {
					"$ref": "#/definitions/topListColumnList"
				}
			},
			"required": [
				"id",
				"i18nKey",
				"itemCount",
				"columns"
			],
			"additionalProperties": false
		},
		"topListColumnList": {
			"type": "array",
			"items": {
				"oneOf": [
					{
						"$ref": "#/definitions/parameterlessColumn"
					},
					{
						"$ref": "#/definitions/userNameColumn"
					},
					{
						"$ref": "#/definitions/columnWithNamespaceParameter"
					},
					{
						"$ref": "#/definitions/columnWithLogTypeParameter"
					}
				]
			},
			"minItems": 1
		},
		"parameterlessColumn": {
			"type": "object",
			"additionalProperties": false,
			"properties": {
				"type": {
					"type": "string",
					"enum": [
						"counter",
						"userRoles",
						"editsInPeriod",
						"editsSinceRegistration",
						"revertedEditsInPeriod",
						"revertedEditsSinceRegistration",
						"firstEditDate",
						"lastEditDate",
						"logEventsInPeriod",
						"logEventsSinceRegistration",
						"thanksInPeriod",
						"thanksSinceRegistration",
						"registrationDate",
						"daysSinceRegistration",
						"activeDaysSinceRegistration",
						"activeDaysInPeriod",
						"averageEditsPerDaySinceRegistration",
						"averageEditsPerDayInPeriod"
					]
				}
			},
			"required": [
				"type"
			]
		},
		"userNameColumn": {
			"type": "object",
			"additionalProperties": false,
			"properties": {
				"type": {
					"type": "string",
					"pattern": "userName"
				},
				"showUserLinks": {
					"type": "boolean"
				}
			},
			"required": [
				"type"
			]
		},
		"columnWithNamespaceParameter": {
			"type": "object",
			"additionalProperties": false,
			"properties": {
				"type": {
					"type": "string",
					"enum": [
						"editsInPeriodInNamespace",
						"editsSinceRegistrationInNamespace",
						"revertedEditsInPeriodInNamespace",
						"revertedEditsSinceRegistrationInNamespace"
					]
				},
				"namespace": {
					"type": "integer",
					"minValue": 0
				}
			},
			"required": [
				"type",
				"namespace"
			]
		},
		"columnWithLogTypeParameter": {
			"type": "object",
			"additionalProperties": false,
			"properties": {
				"type": {
					"type": "string",
					"enum": [
						"logEventsInPeriodByType",
						"logEventsSinceRegistrationByType"
					]
				},
				"logType": {
					"type": "string"
				}
			},
			"required": [
				"type"
			]
		}
	}
}
